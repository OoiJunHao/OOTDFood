<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template/defaultTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="css">
        <h:outputStylesheet name="indexCss.css" library="css"/>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
    </ui:define>

    <ui:define name="content">
        <h:panelGroup>
            <div id="mainIntroduction" class="ui-g-12">
                <h:outputText class="slogan" value="Eat Fresh, Be Happy"/>
                <h:outputText class="appname" value="OOTD Food"/>
                <p:commandButton class="orderbutton" value="Order Now"></p:commandButton>
            </div>
            <p:separator />
            <h1 style="text-align: center; font-size: 40px; color: white">BENEFITS</h1>
            <div id ="benefits" class="ui-g-12">
            </div>
            <p:separator/>
            <h1 style="text-align: center; font-size: 40px; color: white; font-family: Camphor,Open Sans,Segoe UI,sans-serif;">RANKINGS</h1>
            <h:form id="rankings">
                <p:dataView var="meal" value="#{indexManagedBean.mealsWithRank}" rows="0" layout="grid" class="datatable">
                    <p:dataViewGridItem columns="3" class="gridItems" >
                        <div>


                            <p:panel header="Rank #{meal.rank}" style="text-align: center; font-size: 50px; width: 90%;background-size: 100%; font-family: Camphor,Open Sans,Segoe UI,sans-serif;">
                                <h:panelGrid class="gridItems">
                                    <f:facet name='header'>
                                        <p:graphicImage url="/resources/images/mealImages/#{meal.meal.image}.jpg" style="text-align: center; height: auto; width:60%;"/>
                                    </f:facet>
                                    <h:outputText value="#{meal.meal.name}" style="color: white; font-size: 25px"/>
                                    <h:outputText value="#{meal.meal.description}" style="color: white; font-size: 25px"/>
                                    <h:outputText value="#{meal.meal.price}" style="color: white; font-size: 25px">
                                        <f:convertNumber currencySymbol="$" type="currency"/>
                                    </h:outputText>
                                </h:panelGrid>

                            </p:panel>
                        </div>
                    </p:dataViewGridItem>
                </p:dataView>
            </h:form>
            <p:separator/>
            <div id="reviews" class="ui-g-12">
                <p:carousel value="#{indexManagedBean.top2ReviewsForTop5Meals}" var="product" responsive="true">
                    <div class="product">
                        <div class="product-grid-item p-p-5">
                            <div class="product-grid-item-top">
                                <div>
                                    <h:outputText value="#{product.meal.name}" style="font-size: 30px"/>
                                </div>
                            </div>
                            <div class="product-grid-item-content">
                                <p:graphicImage url="resources/images/mealImages/#{product.meal.image}.jpg" style="width: 100%; height: 50%"/>
                                <div class="product-name" style="font-size: 60px">#{product.user.firstname}</div>
                                <div class="product-description" style="font-size: 30px">#{product.description}</div>
                                <p:rating readonly="true" value="${product.rating}" style="font-size: 14rem"/>
                            </div>
                        </div>
                    </div>
                </p:carousel>
            </div>
        </h:panelGroup>

        <footer class="page-footer">
            <div id ="footer" class="ui-g-12">
                <ui:insert name="footer">
                    <ui:include src="/footer.xhtml"/>
                </ui:insert>
            </div>
        </footer>
    </ui:define>
</ui:composition>

